<template>
  <Icon>
    <template #component>
      <component
        :is="renderIcon"
        :style="{
          ...(fontSize && { fontSize: props.fontSize }),
          ...(color && { color: props.color }),
        }"
      ></component>
    </template>
  </Icon>
</template>

<script lang="ts" setup>
import Icon from "@ant-design/icons-vue";
import { IconComponentProps } from "@ant-design/icons-vue/lib/components/Icon";
import { mapKeys, mapValues } from "lodash";
import { computed, defineAsyncComponent, FunctionalComponent } from "vue";

export type IconName =
  | "abandonedCartMajor"
  | "accessibilityMajor"
  | "activitiesMajor"
  | "addCodeMajor"
  | "addImageMajor"
  | "addMajor"
  | "addNoteMajor"
  | "addProductMajor"
  | "adjustMinor"
  | "affiliateMajor"
  | "alertMinor"
  | "analyticsMajor"
  | "analyticsMinor"
  | "appExtensionMinor"
  | "appsMajor"
  | "appsMinor"
  | "archiveMajor"
  | "archiveMinor"
  | "arrowDownMinor"
  | "arrowLeftMinor"
  | "arrowRightMinor"
  | "arrowUpMinor"
  | "attachmentMajor"
  | "automationMajor"
  | "backspaceMajor"
  | "balanceMajor"
  | "bankMajor"
  | "barcodeMajor"
  | "behaviorMajor"
  | "billingStatementDollarMajor"
  | "billingStatementEuroMajor"
  | "billingStatementPoundMajor"
  | "billingStatementRupeeMajor"
  | "billingStatementYenMajor"
  | "blockMinor"
  | "blockquoteMajor"
  | "blogMajor"
  | "bugMajor"
  | "buttonCornerPillMajor"
  | "buttonCornerRoundedMajor"
  | "buttonCornerSquareMajor"
  | "buttonMinor"
  | "buyButtonButtonLayoutMajor"
  | "buyButtonHorizontalLayoutMajor"
  | "buyButtonMajor"
  | "buyButtonVerticalLayoutMajor"
  | "calendarMajor"
  | "calendarMinor"
  | "calendarTickMajor"
  | "cameraMajor"
  | "cancelSmallMinor"
  | "capitalMajor"
  | "capturePaymentMinor"
  | "cardReaderChipMajor"
  | "cardReaderMajor"
  | "cardReaderTapMajor"
  | "caretDownMinor"
  | "caretUpMinor"
  | "cartDownMajor"
  | "cartMajor"
  | "cartUpMajor"
  | "cashDollarMajor"
  | "cashEuroMajor"
  | "cashPoundMajor"
  | "cashRupeeMajor"
  | "cashYenMajor"
  | "categoriesMajor"
  | "channelsMajor"
  | "chatMajor"
  | "checklistAlternateMajor"
  | "checklistMajor"
  | "checkoutMajor"
  | "chevronDownMinor"
  | "chevronLeftMinor"
  | "chevronRightMinor"
  | "chevronUpMinor"
  | "circleAlertMajor"
  | "circleCancelMajor"
  | "circleCancelMinor"
  | "circleChevronDownMinor"
  | "circleChevronLeftMinor"
  | "circleChevronRightMinor"
  | "circleChevronUpMinor"
  | "circleDisableMinor"
  | "circleDisabledMajor"
  | "circleDotsMajor"
  | "circleDownMajor"
  | "circleInformationMajor"
  | "circleLeftMajor"
  | "circleMinusMajor"
  | "circleMinusMinor"
  | "circleMinusOutlineMinor"
  | "circlePlusMajor"
  | "circlePlusMinor"
  | "circlePlusOutlineMinor"
  | "circleRightMajor"
  | "circleTickMajor"
  | "circleTickMinor"
  | "circleTickOutlineMinor"
  | "circleUpMajor"
  | "clipboardMinor"
  | "clockMajor"
  | "clockMinor"
  | "codeMajor"
  | "collectionsMajor"
  | "colorNoneMinor"
  | "colorsMajor"
  | "column1Major"
  | "columnWithTextMajor"
  | "columns2Major"
  | "columns3Major"
  | "columns3Minor"
  | "composeMajor"
  | "confettiMajor"
  | "connectMinor"
  | "conversationMinor"
  | "creditCardCancelMajor"
  | "creditCardMajor"
  | "creditCardPercentMajor"
  | "creditCardSecureMajor"
  | "currencyConvertMinor"
  | "customerMinusMajor"
  | "customerPlusMajor"
  | "customersMajor"
  | "customersMinor"
  | "dataVisualizationMajor"
  | "deleteMajor"
  | "deleteMinor"
  | "desktopMajor"
  | "detailedPopUpMajor"
  | "diamondAlertMajor"
  | "digitalMediaReceiverMajor"
  | "discountAutomaticMajor"
  | "discountCodeMajor"
  | "discountsMajor"
  | "discountsMinor"
  | "disputeMinor"
  | "dnsSettingsMajor"
  | "domainNewMajor"
  | "domainRedirectMinor"
  | "domainsMajor"
  | "draftOrdersMajor"
  | "dragDropMajor"
  | "dragHandleMinor"
  | "dropdownMinor"
  | "duplicateMinor"
  | "editMajor"
  | "editMinor"
  | "emailMajor"
  | "emailNewsletterMajor"
  | "embedMinor"
  | "enableSelectionMinor"
  | "envelopeMajor"
  | "exchangeMajor"
  | "existingInventoryMajor"
  | "exitMajor"
  | "exportMinor"
  | "externalMinor"
  | "externalSmallMinor"
  | "faviconMajor"
  | "favoriteMajor"
  | "featuredCollectionMajor"
  | "featuredContentMajor"
  | "filterMajor"
  | "financesMajor"
  | "financesMinor"
  | "firstOrderMajor"
  | "firstVisitMajor"
  | "flagMajor"
  | "flipCameraMajor"
  | "folderDownMajor"
  | "folderMajor"
  | "folderMinusMajor"
  | "folderPlusMajor"
  | "folderUpMajor"
  | "followUpEmailMajor"
  | "foodMajor"
  | "footerMajor"
  | "formsMajor"
  | "fraudProtectMajor"
  | "fraudProtectMinor"
  | "fraudProtectPendingMajor"
  | "fraudProtectPendingMinor"
  | "fraudProtectUnprotectedMajor"
  | "fraudProtectUnprotectedMinor"
  | "gamesConsoleMajor"
  | "giftCardMajor"
  | "giftCardMinor"
  | "globeMajor"
  | "globeMinor"
  | "grammarMajor"
  | "hashtagMajor"
  | "headerMajor"
  | "heartMajor"
  | "hideKeyboardMajor"
  | "hideMinor"
  | "hintMajor"
  | "homeMajor"
  | "homeMinor"
  | "horizontalDotsMinor"
  | "iconsMajor"
  | "illustrationMajor"
  | "imageAltMajor"
  | "imageAltMinor"
  | "imageMajor"
  | "imageWithTextMajor"
  | "imageWithTextOverlayMajor"
  | "imagesMajor"
  | "importMinor"
  | "importStoreMajor"
  | "incomingMajor"
  | "infoMinor"
  | "installMinor"
  | "inventoryMajor"
  | "inviteMinor"
  | "iqMajor"
  | "jobsMajor"
  | "keyMajor"
  | "labelPrinterMajor"
  | "landingPageMajor"
  | "languageMinor"
  | "legalMajor"
  | "linkMinor"
  | "listMajor"
  | "liveViewMajor"
  | "locationMajor"
  | "locationsMinor"
  | "lockMajor"
  | "lockMinor"
  | "logOutMinor"
  | "logoBlockMajor"
  | "managedStoreMajor"
  | "markFulfilledMinor"
  | "markPaidMinor"
  | "marketingMajor"
  | "marketingMinor"
  | "marketsMajor"
  | "maximizeMajor"
  | "maximizeMinor"
  | "mentionMajor"
  | "mergeMinor"
  | "microphoneMajor"
  | "minimizeMajor"
  | "minimizeMinor"
  | "minusMinor"
  | "mobileAcceptMajor"
  | "mobileBackArrowMajor"
  | "mobileCancelMajor"
  | "mobileChevronMajor"
  | "mobileHamburgerMajor"
  | "mobileHorizontalDotsMajor"
  | "mobileMajor"
  | "mobilePlusMajor"
  | "mobileVerticalDotsMajor"
  | "monerisMajor"
  | "natureMajor"
  | "navigationMajor"
  | "noteMajor"
  | "noteMinor"
  | "notificationMajor"
  | "onlineStoreMajor"
  | "onlineStoreMinor"
  | "orderStatusMinor"
  | "ordersMajor"
  | "ordersMinor"
  | "outgoingMajor"
  | "packageMajor"
  | "pageDownMajor"
  | "pageMajor"
  | "pageMinusMajor"
  | "pagePlusMajor"
  | "pageUpMajor"
  | "paginationEndMinor"
  | "paginationStartMinor"
  | "paintBrushMajor"
  | "pauseCircleMajor"
  | "pauseMajor"
  | "pauseMinor"
  | "paymentsMajor"
  | "phoneInMajor"
  | "phoneMajor"
  | "phoneOutMajor"
  | "pinMajor"
  | "pinMinor"
  | "playCircleMajor"
  | "playMajor"
  | "playMinor"
  | "plusMinor"
  | "pointOfSaleMajor"
  | "popularMajor"
  | "priceLookupMinor"
  | "printMajor"
  | "printMinor"
  | "productReturnsMinor"
  | "productsMajor"
  | "productsMinor"
  | "profileMajor"
  | "profileMinor"
  | "promoteMinor"
  | "questionMarkInverseMajor"
  | "questionMarkInverseMinor"
  | "questionMarkMajor"
  | "questionMarkMinor"
  | "quickSaleMajor"
  | "readTimeMinor"
  | "receiptMajor"
  | "recentSearchesMajor"
  | "redoMajor"
  | "referralCodeMajor"
  | "referralMajor"
  | "refreshMajor"
  | "refreshMinor"
  | "refundMajor"
  | "refundMinor"
  | "removeProductMajor"
  | "repeatOrderMajor"
  | "replaceMajor"
  | "replayMinor"
  | "reportMinor"
  | "reportsMajor"
  | "resetMinor"
  | "resourcesMajor"
  | "returnMinor"
  | "riskMajor"
  | "riskMinor"
  | "sandboxMajor"
  | "saveMinor"
  | "searchMajor"
  | "searchMinor"
  | "sectionMajor"
  | "secureMajor"
  | "selectMinor"
  | "sendMajor"
  | "settingsMajor"
  | "settingsMinor"
  | "shareIosMinor"
  | "shareMinor"
  | "shipmentMajor"
  | "shopcodesMajor"
  | "sidebarLeftMajor"
  | "sidebarRightMajor"
  | "slideshowMajor"
  | "smileyHappyMajor"
  | "smileyJoyMajor"
  | "smileyNeutralMajor"
  | "smileySadMajor"
  | "socialAdMajor"
  | "socialPostMajor"
  | "softPackMajor"
  | "sortAscendingMajor"
  | "sortDescendingMajor"
  | "sortMinor"
  | "soundMajor"
  | "starFilledMinor"
  | "starOutlineMinor"
  | "storeMajor"
  | "storeMinor"
  | "storeStatusMajor"
  | "tabletMajor"
  | "tapChipMajor"
  | "taxMajor"
  | "teamMajor"
  | "templateMajor"
  | "textAlignmentCenterMajor"
  | "textAlignmentLeftMajor"
  | "textAlignmentRightMajor"
  | "textBlockMajor"
  | "textMajor"
  | "themeEditMajor"
  | "themeStoreMajor"
  | "themesMajor"
  | "thumbsDownMajor"
  | "thumbsDownMinor"
  | "thumbsUpMajor"
  | "thumbsUpMinor"
  | "tickMinor"
  | "tickSmallMinor"
  | "timelineAttachmentMajor"
  | "tipsMajor"
  | "titleMinor"
  | "toolsMajor"
  | "transactionFeeDollarMajor"
  | "transactionFeeEuroMajor"
  | "transactionFeePoundMajor"
  | "transactionFeeRupeeMajor"
  | "transactionFeeYenMajor"
  | "transactionMajor"
  | "transferInMajor"
  | "transferMajor"
  | "transferOutMajor"
  | "transferWithinShopifyMajor"
  | "transportMajor"
  | "troubleshootMajor"
  | "typeMajor"
  | "undoMajor"
  | "unfulfilledMajor"
  | "unknownDeviceMajor"
  | "updateInventoryMajor"
  | "uploadMajor"
  | "variantMajor"
  | "viewMajor"
  | "viewMinor"
  | "viewportNarrowMajor"
  | "viewportWideMajor"
  | "vocabularyMajor"
  | "wandMajor"
  | "wandMinor"
  | "wearableMajor"
  | "wholesaleMajor"
  | "wifiMajor";

export interface IconProps extends IconComponentProps {
  name: IconName;
  fontSize?: string | undefined;
  color?: string | undefined;
}

const globIcons = import.meta.glob("/src/assets/icons/*.svg");

const Icons: { [key in IconName]: FunctionalComponent } = mapValues(
  mapKeys(globIcons, (_, key) => {
    const iconName = key?.split("/").pop()?.split(".")[0];
    return iconName ? iconName[0].toLowerCase() + iconName.slice(1) : "";
  }),
  (svgLoader) => defineAsyncComponent(svgLoader)
) as unknown as Record<IconName, FunctionalComponent>;

const props = defineProps<IconProps>();

const renderIcon = computed(() => {
  return Icons[props.name];
});
</script>
